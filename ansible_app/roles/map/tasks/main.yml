---
# tasks file for map
- name: Variable prefix is not defined
  failed_when: "not prefix"

- name: Variable todo is not defined
  failed_when: "not todo"
  
- name: Env is production
  set_fact:
    env: "prod"
    count: 2
  when: "'{{prefix}}' == 'tacstack'"

- name: Env is test
  set_fact:
    env: "testenv"
    count: 3
  when: "'{{prefix}}' != 'tacstack'"

- name: MAP Status
  include: map_status.yml
  when: runto == 'admin' and todo == "status"

- name: MAP recovery
  include: map_recovery.yml
  when: runto == 'admin' and todo == "recovery"

- name: MAP recycle
  include: map_recycle.yml
  when: runto == 'admin' and todo == "recycle"
